<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AI Game Coach Dashboard</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="dashboard-card">

        <h1>ğŸ® AI Game Coach</h1>

        <!-- GAME SELECT -->
        <label>Select Game</label>
        <select id="game">
            <option value="chess">â™Ÿ Chess</option>
            <option value="carrom">ğŸ¯ Carrom</option>
            <option value="ludo">ğŸ² Ludo</option>
            <option value="uno">ğŸƒ UNO</option>
            <option value="snake_ladder">ğŸ Snake & Ladder</option>
        </select>

        <!-- INPUT GRID -->
        <div class="grid">
            <input id="matches" type="number" placeholder="Matches Played">
            <input id="wins" type="number" placeholder="Wins">
            <input id="blunders" type="number" placeholder="Mistakes / Fouls">
            <input id="endgame_losses" type="number" placeholder="Endgame Losses / Snake Hits">
            <input id="safe_moves" type="number" placeholder="Safe Moves / Wild Cards">
            <input id="risky_moves" type="number" placeholder="Risky Moves / Penalties">
        </div>

        <!-- BUTTON -->
        <button class="neon-btn" onclick="analyze()">GET AI STRATEGY</button>

        <!-- OUTPUT -->
        <h2>ğŸ§  AI Coach Feedback</h2>
        <ul id="result"></ul>

    </div>

    <script>
        function analyze() {
            const data = {
                game: game.value,
                matches: parseInt(matches.value || 0),
                wins: parseInt(wins.value || 0),
                blunders: parseInt(blunders.value || 0),
                endgame_losses: parseInt(endgame_losses.value || 0),
                safe_moves: parseInt(safe_moves.value || 0),
                risky_moves: parseInt(risky_moves.value || 0),
                penalty_cards: parseInt(risky_moves.value || 0),
                wild_card_usage: parseInt(safe_moves.value || 0),
                snake_hits: parseInt(endgame_losses.value || 0)
            };

            fetch("http://127.0.0.1:5000/analyze", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(data)
            })
            .then(res => res.json())
            .then(res => {
                result.innerHTML = "";
                res.ai_coach_feedback.forEach(msg => {
                    const li = document.createElement("li");
                    li.textContent = msg;
                    result.appendChild(li);
                });
            })
            .catch(() => alert("Backend not responding. Check server."));
        }
    </script>

</body>
</html>
